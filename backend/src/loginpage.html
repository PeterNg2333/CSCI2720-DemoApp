<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login Page</title>
  </head>
  <body>
    <h1>Login Page</h1>
     <form action="http://localhost:3000/login" method="post">
      <div class="error" style="background-color: red;"></div>
      <br />
      <label for="username">Username</label><br />
      <input type="text" id="username" name="username" required><br />
      <label for="password">Password</label><br />
      <input type="password" id="password" name="password" required  ><br />
      <input type="submit">
      <button type="submit" onclick="checkempty()">login</button><br />
    </form>
  </body>
</html>

<script>
    var username = document.querySelector("#username");
    var password = document.querySelector("#password");



	async function checkempty() {
		if (username.value == null || username.value == " " || password.value == null || password.value == " ")
		
		alert("Username should not empty");
		
		if (password.value == null || password.value == " ")
		
		alert("Password should not empty");
	
	}




    var eventId = document.querySelector("#updateeventId");
    var newname = document.querySelector("#newname");
    var newlocationId = document.querySelector("#newloc");
    var newquota = document.querySelector("#newquota");

    async function get() {
        await fetch("http://localhost:3000/ev/" + eventId.value)
            .then(res => res.json())
            .then(data => {
                newname.value = data['name'];
                newlocationId.value = data['loc']['locId'];
                newquota.value = data['quota'];
            })
            .catch(error => {
                console.log(error); 
            })
    }

    async function put() {
        await fetch("http://localhost:3000/ev/" + eventId.value, {
            method: "PUT",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: `name=${newname.value}&locId=${newlocationId.value}&quota=${newquota.value}`
        })
            .then(res => res.text())
            .then(data => event = data);

        alert("Update done.");

    }

</script>